(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t){var a="https://www.googleapis.com/books/v1";e.exports={searchBooks:function(e,t){var n=encodeURIComponent(e),o="".concat(a,"/volumes?q=").concat(n,"&startIndex=").concat(t,"&projection=lite"),r=new Error;return fetch(o).then(function(t){if(t.ok)return t.json();throw r.message="Error searching for books with term: ".concat(e),r}).then(function(e){return e.items||[]})},getBook:function(e){var t="".concat(a,"/volumes/").concat(e),n=new Error;return fetch(t).then(function(t){if(t.ok)return t.json();throw n.message="Error getting a book with id: ".concat(e),n}).then(function(e){return e||{}})}}},35:function(e,t,a){e.exports=a(64)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),c=a.n(r),l=(a(40),a(41),a(14)),s=a(11);a(42);var i=function(e){var t=e.children;return o.a.createElement("header",{className:"container mx-auto mb-2 flex items-end rounded-b-lg",style:{height:"250px"}},t)};var u=function(){return o.a.createElement(i,null,o.a.createElement("div",{className:"p-4"},o.a.createElement("h1",{className:"text-4xl font-bold"},"Book Lovers Delite!"),o.a.createElement("p",{className:"text-xl"},"Search and Save!")))},h=a(6),m=a(7),f=a(9),b=a(8),d=a(10),p=a(31),v=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={search:""},a.handleSearchChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(p.a)({},n,o))},a.handleSearchSubmit=function(e){e.preventDefault(),a.state.search&&(console.log("this.state.search",a.state.search),a.props.doSearch(a.state.search))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"w-3/6 mx-auto",onSubmit:this.handleSearchSubmit},o.a.createElement("input",{className:"p-2 w-3/4 text-lg border mr-10",placeholder:"Search",id:"search",name:"search",onChange:this.handleSearchChange,value:this.state.search}),o.a.createElement("input",{type:"submit",value:"Search",className:"cursor-pointer bg-transparent hover:bg-teal-500 text-teal-700 font-semibold hover:text-white py-2 px-4 border border-teal-500 hover:border-transparent rounded"}))}}]),t}(n.Component),k=a(32),g=a.n(k);var E=function(e){return o.a.createElement("button",{className:"cursor-pointer bg-transparent hover:bg-orange-500 text-orange-700 font-semibold hover:text-white py-2 px-4 border border-orange-500 hover:border-transparent rounded",onClick:function(){return e.saveBook(e.createBookSave)}},"Save Book")},x=a(16),S=a.n(x),w={getBooks:function(){return S.a.get("/api/getBooks")},saveBook:function(e){return S.a.post("/api/saveBook",e)}},B=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).getThumbnail=function(e){var t=e&&e.imageLinks&&e.imageLinks.smallThumbnail;return t?t.replace(/^http:\/\//i,"https://"):""},a.getAuthors=function(e){var t=e&&e.authors&&e.authors;return t?t.map(function(e,a){return o.a.createElement("span",{key:a},e,a+1!==t.length?", ":"")}):o.a.createElement("span",null,"No authors to display")},a.saveBook=function(e){return w.saveBook(e),"money"},a.bookInfo=a.props.bookInfo,a.smallThumb=a.getThumbnail(a.bookInfo),a.authors=a.getAuthors(a.bookInfo),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e={title:this.bookInfo.title,link:this.bookInfo.infoLink,image:this.smallThumb,author:this.authors,description:this.bookInfo.description};return o.a.createElement("div",{className:"border-b flex mb-5"},o.a.createElement("figure",{className:"p-2 flex-none",style:{width:"150px"}},o.a.createElement("img",{src:this.smallThumb,alt:this.bookInfo.title,className:"min-w-full"})),o.a.createElement("div",{className:"p-2 flex-auto"},o.a.createElement("h3",{className:"text-xl font-bold"},this.bookInfo.title),o.a.createElement("h4",{className:"text-lg font-bold"},this.bookInfo.subtitle),o.a.createElement("p",null,o.a.createElement("a",{href:this.bookInfo.infoLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm italic"},"Download or purchase Book")),o.a.createElement("p",null,"Author(s): ",this.authors),o.a.createElement("p",null,this.bookInfo.description)),o.a.createElement("div",{className:"flex-auto"},o.a.createElement(E,{saveBook:this.saveBook,createBookSave:e})))}}]),t}(n.Component);var N=function(e){var t=e.children;return o.a.createElement("div",null,t)},j=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={search:"",foundBooks:[]},a.doSearch=function(e){e&&(g.a.searchBooks(e,1).then(function(e){console.log("books",e.length),e.length&&a.setState({foundBooks:a.createSearchResult(e)})}),console.log("this.state.foundBooks",a.state.foundBooks))},a.handleBookSave=function(e){return"hello"},a.createSearchResult=function(e){var t=[],n=e.length?e.length:10;if(e.length)for(var r=0;r<n;r++)t.push(o.a.createElement(B,{bookInfo:e[r].volumeInfo,key:"x"+r,handleSave:a.handleBookSave}));return t},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container mx-auto pb-20"},o.a.createElement(v,{doSearch:this.doSearch}),o.a.createElement(N,null,this.state.foundBooks.length?this.state.foundBooks:o.a.createElement("p",null,"No books found")))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={search:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("h3",null,"Saved")}}]),t}(n.Component);var O=function(){return o.a.createElement("div",null,o.a.createElement(u,null),o.a.createElement("div",{className:"container mx-auto"},o.a.createElement(l.a,null,o.a.createElement("div",{className:"w-1/2 mx-auto my-10 text-center"},o.a.createElement(l.b,{to:"/",exact:!0,activeClassName:"rounded px-2 py-1 border border-teal-700 hover:bg-orange-100",className:"mr-10 text-teal-700 hover:text-orange-500"},"Search"),o.a.createElement(l.b,{to:"/saved",activeClassName:"rounded px-2 py-1 border border-teal-700 hover:bg-orange-100",className:"text-teal-700 hover:text-orange-500"},"Saved")),o.a.createElement(s.a,{path:"/",exact:!0,component:j}),o.a.createElement(s.a,{path:"/saved",component:y}))))};c.a.render(o.a.createElement(O,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.71ac9550.chunk.js.map