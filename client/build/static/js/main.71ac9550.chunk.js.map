{"version":3,"sources":["utils/google-api.js","components/Hero/index.js","components/Header/index.js","components/Searchform/index.js","components/SaveButton/index.js","utils/api.js","components/SearchResult/index.js","components/SearchResultList/index.js","pages/Search.js","pages/Saved.js","App.js","index.js"],"names":["baseUrl","module","exports","searchBooks","searchTerm","startIndex","encodedSearchTerm","encodeURIComponent","url","concat","error","Error","fetch","then","response","ok","json","message","items","getBook","bookId","Hero","_ref","children","react_default","a","createElement","className","style","height","Header","components_Hero","Searchform","state","search","handleSearchChange","e","_e$target","target","name","value","_this","setState","Object","defineProperty","handleSearchSubmit","preventDefault","console","log","props","doSearch","onSubmit","this","placeholder","id","onChange","type","Component","SaveButton","onClick","saveBook","createBookSave","api","getBooks","axios","get","bookData","post","SearchResult","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getThumbnail","book","thumbnailUrl","imageLinks","smallThumbnail","replace","getAuthors","authorList","authors","map","author","index","key","length","API","bookInfo","smallThumb","title","link","infoLink","image","description","width","src","alt","subtitle","href","rel","components_SaveButton","SearchResultList","Search","foundBooks","books","createSearchResult","handleBookSave","booksArr","resultCount","i","push","components_SearchResult","volumeInfo","handleSave","components_Searchform","components_SearchResultList","Saved","App","components_Header","react_router_dom","to","exact","activeClassName","react_router","path","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.71ac9550.chunk.js","sourcesContent":["\n\nlet baseUrl = 'https://www.googleapis.com/books/v1';\n\nfunction searchBooks(searchTerm, startIndex) {\n\tconst encodedSearchTerm = encodeURIComponent(searchTerm);\n\tlet url = `${baseUrl}/volumes?q=${encodedSearchTerm}&startIndex=${startIndex}&projection=lite`;\n\n\tconst error = new Error();\n\treturn fetch(url)\n\t\t.then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\telse {\n\t\t\t\terror.message = `Error searching for books with term: ${searchTerm}`;\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t})\n\t\t.then((response) => {\n\t\t\treturn response.items || [];\n\t\t});\n}\n\nfunction getBook(bookId) {\n\tlet url = `${baseUrl}/volumes/${bookId}`;\n\n\tconst error = new Error();\n\treturn fetch(url)\n\t\t.then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json();\n\t\t\t}\n\t\t\telse {\n\t\t\t\terror.message = `Error getting a book with id: ${bookId}`;\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t})\n\t\t.then((response) => {\n\t\t\treturn response || {};\n\t\t});\n}\n\nmodule.exports = {\n\tsearchBooks,\n\tgetBook\n};","import React from 'react';\n\n\nfunction Hero({ children }) {\n  const heroStyle = {\n    height: \"250px\"\n  }\n  return (\n    <header className=\"container mx-auto mb-2 flex items-end rounded-b-lg\" style={heroStyle}>\n      {children}\n    </header>\n  );\n}\nexport default Hero;\n","import React from 'react';\n// import Nav from '../Nav/index';\nimport Hero from '../Hero/';\n\n\nfunction Header() {\n  return (\n    <Hero>\n      <div className=\"p-4\">\n        <h1 className=\"text-4xl font-bold\">Book Lovers Delite!</h1>\n        <p className=\"text-xl\">Search and Save!</p>\n      </div>\n    </Hero>\n  );\n}\nexport default Header;\n","import React, { Component } from 'react';\n\nclass Searchform extends Component {\n  state = {\n    search: \"\"\n  }\n\n  handleSearchChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value\n    });\n  };\n  \n  handleSearchSubmit = e => {\n    e.preventDefault();\n    if (this.state.search) {\n      console.log('this.state.search', this.state.search);\n      this.props.doSearch(this.state.search);\n    }\n  }\n\n  render() {\n    return (\n      <form className=\"w-3/6 mx-auto\" onSubmit={this.handleSearchSubmit}>\n        <input \n          className=\"p-2 w-3/4 text-lg border mr-10\"\n          placeholder=\"Search\"\n          id=\"search\" \n          name=\"search\" \n          onChange={this.handleSearchChange}\n          value={this.state.search}\n          />\n        <input type=\"submit\" value=\"Search\" className=\"cursor-pointer bg-transparent hover:bg-teal-500 text-teal-700 font-semibold hover:text-white py-2 px-4 border border-teal-500 hover:border-transparent rounded\" />\n      </form>\n    );\n  }\n}\n\nexport default Searchform;\n","import React from 'react';\n\nfunction SaveButton(props) {\n  // console.log('props.createBookSave', props.createBookSave);\n  return (\n    <button className=\"cursor-pointer bg-transparent hover:bg-orange-500 text-orange-700 font-semibold hover:text-white py-2 px-4 border border-orange-500 hover:border-transparent rounded\" onClick={() => props.saveBook(props.createBookSave)}>Save Book</button>\n  );\n}\n\nexport default SaveButton;\n","import axios from \"axios\";\n\nexport default {\n  // Gets all books\n  getBooks: function() {\n    return axios.get(\"/api/getBooks\");\n  },\n  saveBook: function(bookData) {\n    return axios.post(\"/api/saveBook\", bookData);\n  }\n}\n\n","import React, { Component } from \"react\";\nimport SaveButton from \"../../components/SaveButton\";\nimport API from \"../../utils/api\";\n\n\n\nclass SearchResult extends Component {\n  constructor(props) {\n    super(props);\n    this.bookInfo = this.props.bookInfo;\n    this.smallThumb = this.getThumbnail(this.bookInfo);\n    this.authors = this.getAuthors(this.bookInfo);\n  }\n\n  getThumbnail = (book) => {\n      let thumbnailUrl = book && book.imageLinks && book.imageLinks.smallThumbnail;\n      return thumbnailUrl ? thumbnailUrl.replace(/^http:\\/\\//i, 'https://') : '';\n  }\n\n  getAuthors = (book) => {\n      let authorList = book && book.authors && book.authors;\n      if (!authorList) {\n          return <span>No authors to display</span>;\n      }\n      return authorList.map((author, index) => {\n          return <span key={index}>{author}{index + 1 !== authorList.length ? ', ' : ''}</span>;\n      });\n  }\n\n  saveBook = (book) => {\n    API.saveBook(book);\n    return \"money\";\n  }\n\n  \n  render() {\n    const createBookSave = {\n        title: this.bookInfo.title,\n        link: this.bookInfo.infoLink,\n        image: this.smallThumb,\n        author: this.authors,\n        description: this.bookInfo.description\n    }\n    const imgStyle = {\n      width: \"150px\"\n    }\n    return (\n      <div className=\"border-b flex mb-5\">\n        <figure className=\"p-2 flex-none\" style={imgStyle}>\n          <img src={this.smallThumb} alt={this.bookInfo.title} className=\"min-w-full\" />\n        </figure>\n        <div className=\"p-2 flex-auto\">\n          <h3 className=\"text-xl font-bold\">{this.bookInfo.title}</h3>\n          <h4 className=\"text-lg font-bold\">{this.bookInfo.subtitle}</h4>\n          <p><a href={this.bookInfo.infoLink} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-sm italic\">Download or purchase Book</a></p>\n          <p>Author(s): {this.authors}</p>\n          <p>{this.bookInfo.description}</p>\n        </div>\n        <div className=\"flex-auto\">\n          <SaveButton saveBook={this.saveBook} createBookSave={createBookSave} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default SearchResult;\n","import React from \"react\";\n\n\nfunction SearchResultList({children}) {\n  return (\n    <div>\n      {children}\n    </div>\n  )\n}\n\nexport default SearchResultList;\n","import React, { Component } from \"react\";\nimport Searchform from \"../components/Searchform/\";\nimport API from \"../utils/google-api\";\nimport SearchResult from \"../components/SearchResult\";\nimport SearchResultList from \"../components/SearchResultList\";\n\n\nclass Search extends Component {\n  // Setting our component's initial state\n  state = {\n    search: \"\",\n    foundBooks: []\n  };\n\n  doSearch = (search) => {\n    if (search) {\n      API.searchBooks(search, 1).then((books) => {\n        console.log('books', books.length);\n        if (books.length) {\n          this.setState({\n            foundBooks: this.createSearchResult(books)\n          });\n        }\n      });\n      console.log('this.state.foundBooks', this.state.foundBooks);\n    }\n  }\n\n  handleBookSave = (book) => {\n    return \"hello\";\n  }\n\n  createSearchResult = (books) => {\n    let booksArr = [];\n    let resultCount = books.length ? books.length : 10;\n    if (books.length) {\n      for(let i = 0;i < resultCount; i++){\n        // console.log('books[i].volumeInfo', books[i].volumeInfo);\n        booksArr.push(<SearchResult bookInfo={books[i].volumeInfo} key={\"x\"+i} handleSave={this.handleBookSave} />);\n      }\n    }\n\t\treturn booksArr;\n  }\n\n  render() {\n    return (\n      <div className=\"container mx-auto pb-20\">\n        <Searchform doSearch={this.doSearch} />\n        <SearchResultList>{\n          this.state.foundBooks.length ? \n          this.state.foundBooks :\n          <p>No books found</p>\n        }</SearchResultList>\n      </div>\n    )\n  }\n}\n\nexport default Search;\n","import React, { Component } from \"react\";\n\n\n\n\nclass Saved extends Component {\n  // Setting our component's initial state\n  state = {\n    search: \"\"\n  };\n\n  render() {\n    return (\n      <h3>Saved</h3>\n    )\n  }\n}\n\nexport default Saved;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, NavLink } from \"react-router-dom\";\n\nimport './App.css';\nimport Header from \"./components/Header/\";\nimport Search from './pages/Search'\nimport Saved from './pages/Saved';\n\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <div className=\"container mx-auto\">\n        <Router>\n          <div className=\"w-1/2 mx-auto my-10 text-center\">\n            <NavLink to=\"/\" exact={true} activeClassName=\"rounded px-2 py-1 border border-teal-700 hover:bg-orange-100\" className=\"mr-10 text-teal-700 hover:text-orange-500\">Search</NavLink>\n            <NavLink to=\"/saved\" activeClassName=\"rounded px-2 py-1 border border-teal-700 hover:bg-orange-100\" className=\"text-teal-700 hover:text-orange-500\">Saved</NavLink>\n          </div>\n          <Route path=\"/\" exact component={Search} />\n          <Route path=\"/saved\" component={Saved} />\n        </Router>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './css/tailwind.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}